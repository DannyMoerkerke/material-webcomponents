<body>

  <main>
    <material-app-bar id="main-app-bar">
      <i class="material-icons" slot="left-content">menu</i>
    </material-app-bar>

    <material-drawer id="main-menu">
      <ul slot="content">
        <li><a slot="item" href="/material-app-bar">material-app-bar</a></li>
        <li><a slot="item" href="/material-button">material-button</a></li>
        <li><a slot="item" href="/material-checkbox">material-checkbox</a></li>
        <li><a slot="item" href="/material-datepicker">material-datepicker</a></li>
        <li><a slot="item" href="/material-dialog">material-dialog</a></li>
        <li><a slot="item" href="/material-dropdown">material-dropdown</a></li>
        <li><a slot="item" href="/material-progress">material-progress</a></li>
        <li><a slot="item" href="/material-drawer">material-drawer</a></li>
        <li><a slot="item" href="/material-radiobutton">material-radiobutton</a></li>
        <li><a slot="item" href="/material-slider">material-slider</a></li>
        <li><a slot="item" href="/material-switch">material-switch</a></li>
        <li><a slot="item" href="/material-table">material-table</a></li>
        <li><a slot="item" href="/material-tabs">material-tabs</a></li>
        <li><a slot="item" href="/material-textfield">material-textfield</a></li>
        <li><a slot="item" href="/material-slidemenu">material-slidemenu</a></li>
      </ul>
    </material-drawer>

    <div id="content"></div>
  </main>

  <script type="module" src="src/bundle.js"></script>
  <script type="module" src="demo/routes.js"></script>
  <script src="lib/polyfill-loader.js"></script>
  <script>
    const appBar = document.querySelector('#main-app-bar');
    const drawer = document.querySelector('#main-menu');

    customElements.whenDefined('material-drawer')
    .then(() => {
      const isDesktop = mq => {
        if(mq.matches) {
          drawer.open();
        }
        else {
          if(drawer.hasAttribute('open')) {
            drawer.close();
          }
        }
      };

      const mq = window.matchMedia('(min-width: 800px)');
      mq.addListener(isDesktop);
      isDesktop(mq);

      appBar.addEventListener('app-bar-click', drawer.toggle.bind(drawer));
    });
  </script>
</body>
