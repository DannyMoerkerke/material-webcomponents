<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Custom element</title>

    </head>
    <body>

    <div class="container">
        <data-repeater>
            <div>
                <h2>${language}</h2>
                <p>${type}</p>
            </div>
        </data-repeater>
    </div>

        <script src="lib/webcomponents-lite.js"></script>
        <script>
//            https://github.com/webcomponents/custom-elements#known-issues
//            customElements.forcePolyfill = true;
        </script>
        <!--<script src="lib/native-shim.js"></script>-->
        <script src="dist/app.js"></script>

        <script>
            window.addEventListener('WebComponentsReady', function() {
                console.log('WebComponentsReady');
                var repeater = document.querySelector('data-repeater');

                repeater.data = [
                    {language: 'javascript', type: 'both'},
                    {language: 'scala', type: 'backend'},
                    {language: 'haskell', type: 'backend'},
                    {language: 'typescript', type: 'frontend'}
                ];

                setTimeout(function() {
                    repeater.data = [
                        {language: 'scala', type: 'backend'},
                        {language: 'javascript', type: 'both'},
                        {language: 'haskell', type: 'backend'},
                        {language: 'typescript', type: 'frontend'},
                        {language: 'PHP', type: 'backend'}
                    ];
                }, 2000);

                setTimeout(function() {
                    repeater.data = [
                        {language: 'javascript', type: 'both'}
                    ];
                }, 4000);
            });
        </script>
    </body>
</html>